{% capture slides %}{{ settings.slide_number }}{% endcapture %}
{% unless slides == '0' %}
  <div id="slider" class="flexslider">
    <ul class="slides">
      {% assign x = 1 %}
      {% for i in (1..slides) %}
       {% capture slide %}slide{{ i }}.jpg{% endcapture %}
       {% capture link %}slide{{ i }}_link{% endcapture %}
       {% capture alt %}slide{{ i }}_alt{% endcapture %}
       {% if settings[link] == '' %}<li><img{% if x == 1 %} class="first"{% endif %} src="{{ slide | asset_url }}" alt="{{ settings[alt] }}" /></li>{% assign x = 2 %}
       {% else %}<li><a href="{{ settings[link] }}"><img{% if x == 1 %} class="first"{% endif %} src="{{ slide | asset_url }}" alt="{{ settings[alt] }}"></a></li>{% assign x = 2 %}{% endif %}
      {% endfor %}
    </ul>
  </div>
{% endunless %}